{% extends 'transcendence/base.html' %}
{% load registration_tags %}
{% load widget_tweaks %}

{% block content %}


<div class="container lobby d-flex border-solid-rebecca-purple-1">
    <div class="d-flex flex-1 position-relative flex-column align-items-center m-4">
        <div class="styled-lobby d-flex bg-black flex-column w-100 h-100 text-center align-items-center">
            <table class="">
                <caption class="text-center text-white" style="caption-side: top; bottom: 1rem; font-size: 18px;"> Rooms </caption>
                <thead>
                <tr>
                    <th scope="col">Hello</th>
                    <th scope="col">gg</th>
                    <th scope="col">hh</th>
                    <th scope="col">tt</th>
                </tr>
                </thead>
                <tbody>
                    {% for room in rooms %}
                        <tr>
                            <td>{{ room.room_name }}</td>
                            <td>{{ room.player_count }}</td>
                            <td>{{ room.is_full }}</td>
                            <td>qewqe</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            <span class="container w-100 h-100"></span>
        </div>
        <div class="d-flex flex-row gap-5 mt-4 lobby-btn">
            <button class="" type="button" data-bs-toggle="modal" data-bs-target="#create_room_modal"> Create Room </button>
            <button class=""> Join Room </button>
        </div>
    </div>
</div>




{#{% for room in rooms %}#}
{#    <p> {{ room.room_name }}</p>#}
{#    {% for users in room.assigned_users.all %}#}
{#        <p> {{ users.username }}</p>#}
{#    {% endfor %}#}
{#{% endfor %}#}

{% endblock %}

{% block modal_content %}

<!-- Modal -->
<div class="modal" id="create_room_modal" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg" style="right: 5rem;">
    <div class="modal-content bg-primary">
      <div class="modal-header">
        <h1 class="modal-title fs-5 text-white mx-auto" id="exampleModalLabel">Create Room</h1>
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
            <form method="post" action="{% url 'lobby' %}">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit" class="btn btn-primary">Create Room</button>
            </form>
      </div>
      <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

{% endblock %}